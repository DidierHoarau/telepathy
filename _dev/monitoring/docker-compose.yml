version: "2"
services:
  jaeger-all-in-one:
    image: jaegertracing/all-in-one:latest
    ports:
      - "16686:16686"
      - "14268"
      - "14250"

  collector-gateway:
    image: otel/opentelemetry-collector:0.55.0 # Latest can't be used for the collector
    volumes:
      - ./collector-gateway.yaml:/etc/collector-gateway.yaml
    command: ["--config=/etc/collector-gateway.yaml"]
    ports:
      - "1888:1888"
      - "13133:13133"
      - "4317:4317"
      - "4318:4318"
      - "55670:55679"
    depends_on:
      - jaeger-all-in-one
